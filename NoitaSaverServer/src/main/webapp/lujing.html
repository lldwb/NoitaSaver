<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- vue -->
    <script src="js/vue.js"></script>
    <script src="js/vue-router.js"></script>
    <!-- jquery -->
    <script src="js/jquery.min.js"></script>
    <!-- element-ui -->
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="js/element-ui@2.15.13.js"></script>
    <meta http-equiv="content-type" content="txt/html charset=utf-8" />
</head>
<body>
<div id="qrc">
<el-button type="warning" :disabled="buttonBoolean.defaultPath"
           @click="buttonBoolean.defaultPath=true">设置
</el-button>
        <el-dialog title="请选择你的目标路径和保存路径" :visible.sync="buttonBoolean.defaultPath" width="30%">
<!--            <el-button @click="openPath">获取数据</el-button>-->
        <div class="demo-input-suffix">
        需要存档的目标路径
        <el-input v-model="copy.targetPath" placeholder="目标路径"></el-input>
        </div>
        <span slot="footer" class="dialog-footer">
        <el-button @click="buttonBoolean.defaultPath = false">取 消</el-button>
        <el-button type="primary" @click="defaultPaths">确 定</el-button>
        </span>
        </el-dialog>
</div>
</body>
</html>
<script type="text/javascript">
    new Vue({
        el:'#qrc',
        data:{
            copy: {
                // 需要存档的目标路径
                targetPath: "",
            },

            // 按钮权限
            buttonBoolean: {
                // 设置
                defaultPath: false,
            }
        },
        methods: {
            // //获取路径
            // openPath() {
            //     let that = this;
            //     $.ajax({
            //         url: "GetUserBackupPath",
            //         success(e) {
            //             if (e != null) {
            //                 that.copy.targetPath = e.name;
            //                 console.log(e)
            //                 console.log("get获取成功")
            //             }
            //
            //         },
            //         error() {
            //             console.log("get获取失败")
            //         }
            //     })
            // },
            defaultPaths() {
                let that = this;
                $.ajax({
                    url: "SetUserBackupPath",
                    data: {
                        path: that.copy.targetPath
                    },
                    success(e) {
                        console.log("set获取成功");
                        that.buttonBoolean.defaultPath = false;
                    },
                    error() {
                        console.log("set获取失败")
                    },
                })
            }
        }
    })

</script>